<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Favorites</title>
  <link rel="stylesheet" href="games.css">
  <link rel="stylesheet" href="favorites.css">
  <style>
    /* Add any additional styles you need here */
  </style>
</head>
<body>
  <div id="game-details-container"></div>

  <script>
    // Array to store selected games
    const selectedGames = [];

    // Function to get game details from URL parameters
    function getGameDetails() {
      const params = new URLSearchParams(window.location.search);
      const gameData = JSON.parse(params.get('game')); // Get the game data from URL and parse it
      
      if (gameData) {
        handleGameSelection(gameData); // Call the function to handle game selection
      } else {
        document.getElementById('game-details-container').innerHTML = '<p>No game details found.</p>';
      }
    }

    // Function to handle game selection
    function handleGameSelection(game) {
      // Check if the game is already selected
      if (!selectedGames.some(g => g.title === game.title)) {
        selectedGames.push(game); // Add the new game to the selectedGames array
        displayGameDetails(game); // Display the selected game
      } else {
        alert(`${game.title} is already in your favorites!`);
      }
    }

    // Function to display all selected game details
    function displayGameDetails(game) {
      const container = document.getElementById('game-details-container');
      const gameDiv = document.createElement('div');
      gameDiv.innerHTML = `
        <h1>${game.title}</h1>
        <img src="${game.banner}" alt="${game.title} Banner">
        <img src="${game.avatar}" alt="${game.title} Avatar">
        <p><strong>Description:</strong> ${game.description}</p>
        <p><strong>Link:</strong> <a href="${game.link}" target="_blank">${game.link}</a></p>
        <p><strong>Category:</strong> ${game.category.join(', ')}</p>
      `;
      container.appendChild(gameDiv); // Append the new game details to the container
    }

    // Call the function to get game details when the page loads
    window.onload = getGameDetails;
  </script>
</body>
</html>
